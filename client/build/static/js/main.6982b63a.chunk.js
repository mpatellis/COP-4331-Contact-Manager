(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{109:function(e,a,t){e.exports=t(200)},200:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),i=t.n(o),c=t(50),l=t(32),s=t(90),u=t(91),m=t(101),p=t(99),d=t(34),g=t(11),f=t(27),h=t(3),b=t(250),E=t(241),v=t(255),w=t(203),y=t(253),x=t(202),O=t(243),k=t(240),j=t(245),C=t(246),N=t(252),P=t(247),S=t(248),I=t(249),R=t(251),B=t(98),F=t.n(B),D=t(94),L=t.n(D),z=t(242),W=t(244),A=t(95),H=t.n(A),T=t(63),U=t.n(T),V=t(97),G=t.n(V),J=t(96),_=t.n(J),M=t(28),q=t.n(M),K=t(9),Q=t.n(K),X=t(14),Y=t(92),Z=t(15),$=t.n(Z),ee=q.a.get();$.a.defaults.headers.common.Authorization="Bearer ".concat(ee);var ae=function(){var e=Object(X.a)(Q.a.mark((function e(a,t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={Error:{}},a){e.next=5;break}n.Error.username="Please enter your username",e.next=7;break;case 5:return e.next=7,$.a.get("user/username/".concat(a)).then(function(){var e=Object(X.a)(Q.a.mark((function e(r){var o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.data.exists){e.next=4;break}n.Error.username="Username does not exist",e.next=11;break;case 4:if(t){e.next=8;break}n.Error.password="Please enter your password",e.next=11;break;case 8:return o={username:a,password:t},e.next=11,$.a.post("user/login",o).then((function(e){e.data.token&&(q.a.validate(e.data.token)?q.a.keep(e.data.token):q.a.forget())})).catch((function(e){return n.Error.password="Incorect Password",n}));case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(";("),console.error(e)}));case 7:return re(),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),te=function(){var e=Object(X.a)(Q.a.mark((function e(a,t,n){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={Error:{}},a){e.next=5;break}r.Error.username="Please enter your username",e.next=7;break;case 5:return e.next=7,$.a.get("user/username/".concat(a)).then(function(){var e=Object(X.a)(Q.a.mark((function e(o){var i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.data.exists){e.next=4;break}r.Error.username="Username is taken",e.next=15;break;case 4:if(t&&Object(Y.isEmail)(t)){e.next=8;break}r.Error.email="Please enter a valid email",e.next=15;break;case 8:if(n){e.next=12;break}r.Error.password="Please enter a password",e.next=15;break;case 12:return i={username:a,email:t,password:n},e.next=15,$.a.post("user/register",i).then((function(e){console.log("succcess")})).catch((function(e){return r.Error.password="Incorect Password",r}));case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(";("),console.error(e)}));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(X.a)(Q.a.mark((function e(a){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.post("/contacts",a).then((function(e){console.log(e.data),t=e.data})).catch();case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),re=function(){var e=Object(X.a)(Q.a.mark((function e(a){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.post("/contacts/search",{search:a}).then((function(e){console.log(e.data),t=e.data})).catch((function(e){return console.log}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),oe=function(){var e=Object(X.a)(Q.a.mark((function e(a){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.delete("/contacts/id/".concat(a)).then((function(e){console.log(e.data),t=e.data})).catch((function(e){return console.log}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ie=t(93),ce=t(254),le=t(12);function se(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function ue(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?se(t,!0).forEach((function(a){Object(g.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):se(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var me=Object(ie.a)((function(e){return Object(ce.a)({root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(300,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:300},title:{flexGrow:0},hide:{display:"none"},drawer:{width:300,flexShrink:0},drawerPaper:{width:300},drawerHeader:ue({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-start"}),textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},button:{margin:e.spacing(1)},content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-300},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0},search:Object(g.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(le.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(le.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),grow:{flexGrow:1},searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputInput:Object(g.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),expansionWidith:{width:"100%"},expansionHeading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},contactDeleteButton:{margin:e.spacing(0)},emailTextField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},emailCodeInput:{color:"white"},div1:{padding:e.spacing(1,1,1,7),width:300}})}));function pe(){var e=me(),a=r.a.useState(!0),t=Object(f.a)(a,2),n=t[0],o=t[1],i=r.a.useState(!0),c=Object(f.a)(i,2),l=c[0],s=c[1],u=r.a.useState(!1),m=Object(f.a)(u,2),p=m[0],d=m[1],B=r.a.useState(!0),D=Object(f.a)(B,2),A=D[0],T=D[1],V=r.a.useState(!1),J=Object(f.a)(V,2),M=J[0],K=(J[1],r.a.useState({})),Q=Object(f.a)(K,2),X=Q[0],Y=Q[1],Z=r.a.useState([]),$=Object(f.a)(Z,2),ee=$[0],ie=$[1],ce=r.a.useState(!0),le=Object(f.a)(ce,2),se=le[0],ue=le[1];q.a.validate(q.a.get())&&!p&&d(!0);var pe="",de="",ge="",fe="";function he(){Y({}),s(!l)}function be(e){return"username"===e.name&&X.username?r.a.createElement(E.a,{component:"button",color:"error",variant:"body2",onClick:p?null:he},X.username):"email"===e.name&&X.email?r.a.createElement(E.a,{component:"button",color:"error",variant:"body2",onClick:p?null:he},X.email||1):"password"===e.name&&X.password?r.a.createElement(E.a,{component:"button",color:"error",variant:"body2",onClick:p?null:he},X.password):null}function Ee(){re(fe).then((function(e){ie(e)}))}function ve(e){T(!A)}function we(e){}return r.a.createElement("div",{className:e.root},r.a.createElement(P.a,null),r.a.createElement(S.a,{position:"fixed",className:Object(h.a)(e.appBar,Object(g.a)({},e.appBarShift,n))},r.a.createElement(I.a,null,r.a.createElement(x.a,{variant:"h6",noWrap:!0,className:e.title},"COP 4331 Contact Manager"),r.a.createElement((function(a){return p&&l?r.a.createElement("div",{className:e.search},r.a.createElement(v.a,{placeholder:"Search",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){fe=e.target.value}})):null}),null),r.a.createElement((function(){return p&&l?r.a.createElement(w.a,{size:"small",className:e.searchButton,"aria-label":"search",onClick:Ee},r.a.createElement(L.a,null)):null}),null),r.a.createElement("div",{className:e.grow}),r.a.createElement((function(){var a=r.a.useState(null),t=Object(f.a)(a,2),n=t[0],o=t[1],i="",c="",l="",s="",u=function(){o(null)},m=Boolean(n),d=m?"simple-popover":void 0;return p?r.a.createElement("div",null,r.a.createElement(j.a,{color:"primary","aria-label":"add",className:e.fab,onClick:function(e){o(e.currentTarget),console.log(n)}},r.a.createElement(U.a,null)),r.a.createElement(k.a,{id:d,open:m,anchorEl:n,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement("div",{className:e.div1},r.a.createElement(x.a,{variant:"h6",className:e.typography},"Add New Contact"),r.a.createElement(b.a,{label:"First name",type:"text",margin:"normal",onChange:function(e){i=e.target.value}}),r.a.createElement(b.a,{label:"Last name",type:"text",margin:"normal",onChange:function(e){c=e.target.value}}),r.a.createElement(b.a,{label:"Phone number",type:"text",margin:"normal",onChange:function(e){s=e.target.value}}),r.a.createElement(b.a,{label:"Email",type:"text",margin:"normal",onChange:function(e){l=e.target.value}}),r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:function(){i&&c&&(s&&ne({firstName:i,lastName:c,email:l,phone:s}).then(u).catch())}},"ADD")))):null}),null),r.a.createElement(w.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(){o(!0)},className:Object(h.a)(n&&e.hide)},r.a.createElement(F.a,null)))),r.a.createElement("main",{className:Object(h.a)(e.content,Object(g.a)({},e.contentShift,n))},r.a.createElement("div",{className:e.drawerHeader}),r.a.createElement((function(a){return se&&console.log(se),p&&l?(ee||[]).map((function(a,t){return r.a.createElement("div",{className:e.expansionWidith,key:a._id},r.a.createElement(y.a,null,r.a.createElement(z.a,{expandIcon:r.a.createElement(H.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(x.a,{className:e.expansionHeading},a.firstName," ",a.lastName),r.a.createElement("div",{className:e.grow})),r.a.createElement(O.a,null),r.a.createElement(W.a,null,r.a.createElement(x.a,{className:e.grow},"Email: ",a.email," ",r.a.createElement("br",null),"Phone: ",a.phone),r.a.createElement(w.a,{size:"small",className:e.contactDeleteButton,"aria-label":"delete"},r.a.createElement(_.a,{onClick:function(e){return function(e,a){oe(e).then((function(e){var t=ee;t.splice(a,1),ie(t),ue(!se)})).catch()}(a._id,t)}})))))})):null}),null),r.a.createElement((function(a){return!M&&p&&l?r.a.createElement(N.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:n,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"Enter your email verification code"),action:[r.a.createElement(b.a,{id:"outlined-name",label:"Email Verify Code",className:e.emailTextField,margin:"normal",variant:"outlined",InputProps:{className:e.emailCodeInput}})]}):null}),null)),r.a.createElement(R.a,{className:e.drawer,variant:"persistent",anchor:"right",open:n,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(x.a,{variant:"h6",noWrap:!0,className:e.title},p?"Welcome":l?"Please Login":"Please Create an Account"),r.a.createElement("div",{className:e.grow}),r.a.createElement((function(a){return p&&l?r.a.createElement(j.a,{color:"secondary",size:"small","aria-label":"edit",className:e.fab,onClick:ve},r.a.createElement(G.a,null)):null}),null)),r.a.createElement(O.a,null),r.a.createElement((function(a){return p?null:r.a.createElement(b.a,{id:"outlined-Username-input",label:"username",className:e.textField,type:"username",name:"username",autoComplete:"username",margin:"normal",variant:"outlined",onChange:function(e){de=e.target.value}})}),null),r.a.createElement(be,{name:"username"}),r.a.createElement((function(a){return p||l?null:r.a.createElement(b.a,{id:"outlined-email-input",label:"email",className:e.textField,type:"email",name:"email",autoComplete:"email",margin:"normal",variant:"outlined",onChange:function(e){ge=e.target.value}})}),null),r.a.createElement(be,{name:"email"}),r.a.createElement((function(a){return p?null:r.a.createElement(b.a,{id:"outlined-password-input",label:"Password",className:e.textField,type:"password",autoComplete:"current-password",margin:"normal",variant:"outlined",onChange:function(e){pe=e.target.value}})}),null),r.a.createElement(be,{name:"password"}),r.a.createElement((function(a){if(p&&l){var t=[{label:"Username",val:"mpatellis"},{label:"Email",val:"gmail.com"}],n=A;return console.log(n),t.map((function(a){return r.a.createElement(b.a,{id:"standard-read-only-input",label:a.label,defaultValue:a.val,className:e.textField,margin:"normal",InputProps:{readOnly:A}})}))}return null}),null),r.a.createElement((function(a){if(p&&l){var t="False";return M&&(t="True"),r.a.createElement(b.a,{id:"standard-read-only-input",label:"Verified Email",defaultValue:t,className:e.textField,margin:"normal",InputProps:{readOnly:!0}})}return null}),null),r.a.createElement((function(e){return p&&l&&!M?r.a.createElement(E.a,{component:"button",variant:"body2",onClick:we},"Click here to verify your email"):null}),null),r.a.createElement(C.a,{variant:"contained",color:"primary",className:e.button,onClick:function(){Y({}),p?(d(!1),q.a.forget()):l?ae(de,pe).then((function(e){Object.keys(e.Error).length?Y(e.Error):(console.log("logging in"),d(!0))})).catch((function(e){Y({password:"Incorrect Password"})})):te(de,ge,pe).then((function(e){Object.keys(e.Error).length?Y(e.Error):(console.log("Registered"),s(!0))})).catch()}},p?"Logout":l?"Login":"Register"),r.a.createElement(O.a,null),r.a.createElement(E.a,{component:"button",variant:"body2",onClick:p?null:he},p?"":l?"Dont have an account? Register":"Already have an account? Login")))}var de=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(d.a,{exact:!0,path:"/",component:pe})))}}]),a}(n.Component);i.a.render(r.a.createElement(de,null),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.6982b63a.chunk.js.map