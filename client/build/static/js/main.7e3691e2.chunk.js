(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{109:function(e,a,t){e.exports=t(200)},200:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),c=t.n(o),i=t(50),l=t(32),s=t(91),u=t(92),m=t(101),p=t(99),d=t(34),f=t(11),g=t(22),h=t(3),b=t(250),v=t(241),E=t(255),w=t(203),y=t(253),O=t(202),x=t(243),j=t(240),k=t(245),N=t(246),C=t(252),P=t(247),S=t(248),I=t(249),R=t(251),D=t(98),B=t.n(D),z=t(95),F=t.n(z),L=t(242),W=t(244),A=t(96),T=t.n(A),H=t(63),V=t.n(H),U=t(64),G=t.n(U),_=t(97),J=t.n(_),M=t(28),q=t.n(M),K=t(9),Q=t.n(K),X=t(14),Y=t(93),Z=t(15),$=t.n(Z),ee=q.a.get();$.a.defaults.headers.common.Authorization="Bearer ".concat(ee);var ae=function(){var e=Object(X.a)(Q.a.mark((function e(a,t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={Error:{}},a){e.next=5;break}n.Error.username="Please enter your username",e.next=7;break;case 5:return e.next=7,$.a.get("user/username/".concat(a)).then(function(){var e=Object(X.a)(Q.a.mark((function e(r){var o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.data.exists){e.next=4;break}n.Error.username="Username does not exist",e.next=11;break;case 4:if(t){e.next=8;break}n.Error.password="Please enter your password",e.next=11;break;case 8:return o={username:a,password:t},e.next=11,$.a.post("user/login",o).then((function(e){e.data.token&&(q.a.validate(e.data.token)?q.a.keep(e.data.token):q.a.forget())})).catch((function(e){return n.Error.password="Incorect Password",n}));case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(";("),console.error(e)}));case 7:return ie(),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),te=function(){var e=Object(X.a)(Q.a.mark((function e(a,t,n){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={Error:{}},a){e.next=5;break}r.Error.username="Please enter your username",e.next=7;break;case 5:return e.next=7,$.a.get("user/username/".concat(a)).then(function(){var e=Object(X.a)(Q.a.mark((function e(o){var c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.data.exists){e.next=4;break}r.Error.username="Username is taken",e.next=15;break;case 4:if(t&&Object(Y.isEmail)(t)){e.next=8;break}r.Error.email="Please enter a valid email",e.next=15;break;case 8:if(n){e.next=12;break}r.Error.password="Please enter a password",e.next=15;break;case 12:return c={username:a,email:t,password:n},e.next=15,$.a.post("user/register",c).then((function(e){console.log("succcess")})).catch((function(e){return r.Error.password="Incorect Password",r}));case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(";("),console.error(e)}));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(X.a)(Q.a.mark((function e(){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("/user").then((function(e){console.log(e.data),a=e.data})).catch();case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(X.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("/user/verify").then((function(e){console.log(e.data),e.data})).catch();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(X.a)(Q.a.mark((function e(a){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.put("/user/verify",{code:a}).then((function(e){console.log(!!e.data.n),t=!!e.data.n})).catch();case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ce=function(){var e=Object(X.a)(Q.a.mark((function e(a){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.post("/contacts",a).then((function(e){console.log(e.data),t=e.data})).catch();case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(X.a)(Q.a.mark((function e(a){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.post("/contacts/search",{search:a}).then((function(e){console.log(e.data),t=e.data})).catch((function(e){return console.log}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),le=function(){var e=Object(X.a)(Q.a.mark((function e(a,t){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.put("/contacts/id/".concat(a),t).then((function(e){console.log(e.data),n=e.data})).catch((function(e){return console.log}));case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),se=function(){var e=Object(X.a)(Q.a.mark((function e(a){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.delete("/contacts/id/".concat(a)).then((function(e){console.log(e.data),t=e.data})).catch((function(e){return console.log}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ue=t(94),me=t(254),pe=t(12);function de(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function fe(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?de(t,!0).forEach((function(a){Object(f.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):de(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var ge=Object(ue.a)((function(e){return Object(me.a)({root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(300,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:300},title:{flexGrow:0},hide:{display:"none"},drawer:{width:300,flexShrink:0},drawerPaper:{width:300},drawerHeader:fe({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-start"}),textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},button:{margin:e.spacing(1)},content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-300},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0},search:Object(f.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(pe.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(pe.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),grow:{flexGrow:1},searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputInput:Object(f.a)({padding:e.spacing(1,1,1,1),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),expansionWidith:{width:"100%"},expansionHeading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},contactDeleteButton:{margin:e.spacing(0)},emailTextField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},emailCodeInput:{color:"white"},div1:{padding:e.spacing(1,1,1,7),width:300}})}));function he(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function be(){var e=ge(),a=r.a.useState(!0),t=Object(g.a)(a,2),n=t[0],o=t[1],c=r.a.useState(!0),i=Object(g.a)(c,2),l=i[0],s=i[1],u=r.a.useState(!1),m=Object(g.a)(u,2),p=m[0],d=m[1],D=r.a.useState(!0),z=Object(g.a)(D,2),A=z[0],H=z[1],U=r.a.useState(!1),_=Object(g.a)(U,2),M=_[0],K=_[1],Q=r.a.useState({}),X=Object(g.a)(Q,2),Y=X[0],Z=X[1],$=r.a.useState([]),ee=Object(g.a)($,2),ue=ee[0],me=ee[1],pe=r.a.useState(!0),de=Object(g.a)(pe,2),fe=de[0],be=de[1],ve=r.a.useState(""),Ee=Object(g.a)(ve,2),we=Ee[0],ye=Ee[1],Oe=r.a.useState({}),xe=Object(g.a)(Oe,2),je=(xe[0],xe[1]);q.a.validate(q.a.get())&&!p&&ne().then((function(e){je(e),d(!0)})).catch();var ke="",Ne="",Ce="",Pe="",Se="";function Ie(){Z({}),s(!l)}function Re(e){return"username"===e.name&&Y.username?r.a.createElement(v.a,{component:"button",color:"error",variant:"body2",onClick:p?null:Ie},Y.username):"email"===e.name&&Y.email?r.a.createElement(v.a,{component:"button",color:"error",variant:"body2",onClick:p?null:Ie},Y.email||1):"password"===e.name&&Y.password?r.a.createElement(v.a,{component:"button",color:"error",variant:"body2",onClick:p?null:Ie},Y.password):null}function De(){ye(Pe),ie(Pe).then((function(e){me(e)}))}var Be=function(e){var a=e.contact,t=r.a.useState({firstName:a.firstName,lastName:a.lastName,email:a.email,phone:a.phone}),n=Object(g.a)(t,2),o=n[0],c=n[1],i=function(e){return function(a){c(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?he(t,!0).forEach((function(a){Object(f.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):he(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},o,Object(f.a)({},e,a.target.value)))}},l=ge(),s=r.a.useState(null),u=Object(g.a)(s,2),m=u[0],p=u[1],d=function(){p(null)},h=Boolean(m),v=h?"simple-popover":void 0;return r.a.createElement("div",null,r.a.createElement(w.a,{size:"small",className:l.contactDeleteButton,"aria-label":"edit"},r.a.createElement(G.a,{onClick:function(e){p(e.currentTarget),console.log(m)}})),r.a.createElement(j.a,{id:v,open:h,anchorEl:m,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement("div",{className:l.div1},r.a.createElement(O.a,{variant:"h6",className:l.typography},"Edit Contact"),r.a.createElement(b.a,{label:"First name",type:"text",margin:"normal",value:o.firstName,onChange:i("firstName")}),r.a.createElement(b.a,{label:"Last name",type:"text",margin:"normal",value:o.lastName,onChange:i("lastName")}),r.a.createElement(b.a,{label:"Phone number",type:"text",margin:"normal",value:o.phone,onChange:i("phone")}),r.a.createElement(b.a,{label:"Email",type:"text",margin:"normal",value:o.email,onChange:i("email")}),r.a.createElement(N.a,{variant:"contained",color:"primary",onClick:function(){var a={firstName:o.firstName,lastName:o.lastName,email:o.email,phone:o.phone};console.log(a),le(e.contact._id,a).then((function(e){d(),ie(we).then((function(e){me(e)})).catch(),be(!fe)})).catch()}},"Commit"))))};function ze(e){H(!A)}function Fe(){var e=oe(Se);K(e)}return r.a.createElement("div",{className:e.root},r.a.createElement(P.a,null),r.a.createElement(S.a,{position:"fixed",className:Object(h.a)(e.appBar,Object(f.a)({},e.appBarShift,n))},r.a.createElement(I.a,null,r.a.createElement(O.a,{variant:"h6",noWrap:!0,className:e.title},"COP 4331 Contact Manager"),r.a.createElement((function(a){return p&&l?r.a.createElement("div",{className:e.search},r.a.createElement(E.a,{placeholder:"Search",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){Pe=e.target.value}})):null}),null),r.a.createElement((function(){return p&&l?r.a.createElement(w.a,{size:"small",className:e.searchButton,"aria-label":"search",onClick:De},r.a.createElement(F.a,null)):null}),null),r.a.createElement("div",{className:e.grow}),r.a.createElement((function(){var a=r.a.useState(null),t=Object(g.a)(a,2),n=t[0],o=t[1],c="",i="",l="",s="",u=function(){o(null)},m=Boolean(n),d=m?"simple-popover":void 0;return p?r.a.createElement("div",null,r.a.createElement(k.a,{color:"primary","aria-label":"add",className:e.fab,onClick:function(e){o(e.currentTarget),console.log(n)}},r.a.createElement(V.a,null)),r.a.createElement(j.a,{id:d,open:m,anchorEl:n,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement("div",{className:e.div1},r.a.createElement(O.a,{variant:"h6",className:e.typography},"Add New Contact"),r.a.createElement(b.a,{label:"First name",type:"text",margin:"normal",onChange:function(e){c=e.target.value}}),r.a.createElement(b.a,{label:"Last name",type:"text",margin:"normal",onChange:function(e){i=e.target.value}}),r.a.createElement(b.a,{label:"Phone number",type:"text",margin:"normal",onChange:function(e){s=e.target.value}}),r.a.createElement(b.a,{label:"Email",type:"text",margin:"normal",onChange:function(e){l=e.target.value}}),r.a.createElement(N.a,{variant:"contained",color:"primary",onClick:function(){c&&i&&(s&&ce({firstName:c,lastName:i,email:l,phone:s}).then(u).catch())}},"ADD")))):null}),null),r.a.createElement(w.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(){o(!0)},className:Object(h.a)(n&&e.hide)},r.a.createElement(B.a,null)))),r.a.createElement("main",{className:Object(h.a)(e.content,Object(f.a)({},e.contentShift,n))},r.a.createElement("div",{className:e.drawerHeader}),r.a.createElement((function(a){return fe&&console.log(fe),p&&l?(ue||[]).map((function(a,t){return r.a.createElement("div",{className:e.expansionWidith,key:a._id},r.a.createElement(y.a,null,r.a.createElement(L.a,{expandIcon:r.a.createElement(T.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(O.a,{className:e.expansionHeading},a.firstName," ",a.lastName),r.a.createElement("div",{className:e.grow})),r.a.createElement(x.a,null),r.a.createElement(W.a,null,r.a.createElement(O.a,{className:e.grow},"Email: ",a.email," ",r.a.createElement("br",null),"Phone: ",a.phone),r.a.createElement(Be,{contact:a}),r.a.createElement(w.a,{size:"small",className:e.contactDeleteButton,"aria-label":"delete"},r.a.createElement(J.a,{onClick:function(e){return t=a._id,void se(t).then((function(e){ie(we).then((function(e){me(e)})).catch(),be(!fe)})).catch();var t}})))))})):null}),null),r.a.createElement((function(a){return!M&&p&&l?r.a.createElement(C.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:n,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"Enter your email verification code"),action:[r.a.createElement("div",null,r.a.createElement(b.a,{id:"outlined-name",label:"Email Verify Code",className:e.emailTextField,margin:"normal",variant:"outlined",onChange:function(e){Se=e.target.value,console.log(Se)},InputProps:{className:e.emailCodeInput}}),r.a.createElement(N.a,{vartiant:"contained",className:e.button,onClick:Fe},"Verify"))]}):null}),null)),r.a.createElement(R.a,{className:e.drawer,variant:"persistent",anchor:"right",open:n,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(O.a,{variant:"h6",noWrap:!0,className:e.title},p?"Welcome":l?"Please Login":"Please Create an Account"),r.a.createElement("div",{className:e.grow}),r.a.createElement((function(a){return p&&l?r.a.createElement(k.a,{color:"secondary",size:"small","aria-label":"edit",className:e.fab,onClick:ze},r.a.createElement(G.a,null)):null}),null)),r.a.createElement(x.a,null),r.a.createElement((function(a){return p?null:r.a.createElement(b.a,{id:"outlined-Username-input",label:"username",className:e.textField,type:"username",name:"username",autoComplete:"username",margin:"normal",variant:"outlined",onChange:function(e){Ne=e.target.value}})}),null),r.a.createElement(Re,{name:"username"}),r.a.createElement((function(a){return p||l?null:r.a.createElement(b.a,{id:"outlined-email-input",label:"email",className:e.textField,type:"email",name:"email",autoComplete:"email",margin:"normal",variant:"outlined",onChange:function(e){Ce=e.target.value}})}),null),r.a.createElement(Re,{name:"email"}),r.a.createElement((function(a){return p?null:r.a.createElement(b.a,{id:"outlined-password-input",label:"Password",className:e.textField,type:"password",autoComplete:"current-password",margin:"normal",variant:"outlined",onChange:function(e){ke=e.target.value}})}),null),r.a.createElement(Re,{name:"password"}),r.a.createElement((function(a){if(p&&l){return[{label:"Username",val:"mpatellis"},{label:"Email",val:"gmail.com"}].map((function(a){return r.a.createElement(b.a,{id:"standard-read-only-input",label:a.label,defaultValue:a.val,className:e.textField,margin:"normal",InputProps:{readOnly:!0}})}))}return null}),null),r.a.createElement((function(a){if(p&&l){var t="False";return M&&(t="True"),r.a.createElement(b.a,{id:"standard-read-only-input",label:"Verified Email",defaultValue:t,className:e.textField,margin:"normal",InputProps:{readOnly:!0}})}return null}),null),r.a.createElement((function(e){return p&&l&&!M?r.a.createElement(v.a,{component:"button",variant:"body2",onClick:re()},"Click here to verify your email"):null}),null),r.a.createElement(N.a,{variant:"contained",color:"primary",className:e.button,onClick:function(){Z({}),p?(d(!1),q.a.forget()):l?ae(Ne,ke).then((function(e){Object.keys(e.Error).length?Z(e.Error):(console.log("logging in"),ne().then((function(e){je(e)})).catch(),d(!0))})).catch((function(e){Z({password:"Incorrect Password"})})):te(Ne,Ce,ke).then((function(e){Object.keys(e.Error).length?Z(e.Error):(console.log("Registered"),s(!0))})).catch()}},p?"Logout":l?"Login":"Register"),r.a.createElement(x.a,null),r.a.createElement(v.a,{component:"button",variant:"body2",onClick:p?null:Ie},p?"":l?"Dont have an account? Register":"Already have an account? Login")))}var ve=function(e){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(d.a,{exact:!0,path:"/",component:be})))}}]),a}(n.Component);c.a.render(r.a.createElement(ve,null),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.7e3691e2.chunk.js.map