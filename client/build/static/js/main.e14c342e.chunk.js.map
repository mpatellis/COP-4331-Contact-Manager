{"version":3,"sources":["components/Pieces.js","App.js","index.js","components/auth/index.js","components/drawerStyle.js"],"names":["PersistentDrawerRight","classes","useStyles","React","useState","open","setOpen","hasAccount","setHasAccount","isLogedIn","setIsLogedIn","isVerified","setVerification","Error","setError","contacts","setContacts","render","setRender","lastSearch","setLastSearch","User","setUser","reRender","setReRender","JWT","validate","get","getUserInfo","then","res","catch","password","username","email","search","emailCode","handleDrawerOpen","toggleHasAccount","ErrorLink","props","name","component","color","variant","onClick","handleSearch","searchContacts","EditContact","contact","firstName","lastName","phone","values","setValues","handleChange","event","target","value","anchorEl","setAnchorEl","handleClose","Boolean","id","undefined","size","className","contactDeleteButton","aria-label","currentTarget","console","log","onClose","anchorOrigin","vertical","horizontal","transformOrigin","div1","typography","label","type","margin","onChange","updateContactById","_id","handleVerifyClick","verifyUser","iOS","process","browser","test","navigator","userAgent","root","position","clsx","appBar","appBarShift","noWrap","title","placeholder","inputRoot","input","inputInput","inputProps","e","searchButton","grow","fab","addContact","edge","hide","content","contentShift","drawerHeader","map","item","index","expansionWidith","key","expandIcon","aria-controls","expansionHeading","deleteContactById","ContentProps","emailBackgound","message","vartiant","emailTextField","InputProps","emailCodeInput","button","disableBackdropTransition","disableDiscovery","drawer","anchor","onOpen","paper","drawerPaper","user","updateUserInfo","textField","autoComplete","val","defaultValue","readOnly","isVerifiedStr","sendVerificationEmail","forget","Login","Object","keys","length","window","location","reload","err","Register","App","exact","path","Pieces","Component","ReactDOM","document","getElementById","token","axios","defaults","headers","common","a","Res","data","exists","post","keep","error","usernameFree","isEmail","put","code","n","body","delete","makeStyles","theme","createStyles","display","transition","transitions","create","easing","sharp","duration","leavingScreen","width","easeOut","enteringScreen","marginRight","flexGrow","flexShrink","alignItems","padding","spacing","mixins","toolbar","justifyContent","marginLeft","borderRadius","shape","backgroundColor","fade","palette","white","breakpoints","up","searchIcon","height","pointerEvents","fontSize","pxToRem","fontWeight","fontWeightRegular","extendedIcon","green"],"mappings":"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","file":"static/js/main.e14c342e.chunk.js","sourcesContent":["import React from \"react\";\nimport clsx from \"clsx\";\nimport {\n    AppBar,         Button,\n    Toolbar,    CssBaseline,    Link,\n    Typography, TextField,      ExpansionPanel,\n    Divider,    IconButton,     InputBase,\n    Fab,        Snackbar,       Popover,\n    SwipeableDrawer\n} from '@material-ui/core'\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport AddIcon from '@material-ui/icons/Add';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport JWT from 'jwt-client'\n\n\nimport { Login, Register, getUserInfo, updateUserInfo, \n     sendVerificationEmail, verifyUser, addContact,\n     searchContacts, updateContactById, deleteContactById\n    // ,isVerified,deleteUser,getAllContacts,getContactById,\n   } from './auth'\nimport useStyles from './drawerStyle'\n// import { set } from \"mongoose\";\n\n\nexport default function PersistentDrawerRight() {\n  const classes = useStyles();\n\n  const [open, setOpen] = React.useState(true);\n  const [hasAccount, setHasAccount] = React.useState(true)\n  const [isLogedIn, setIsLogedIn] = React.useState(false)\n  // const [editable, setEditable] = React.useState(true)\n  const [isVerified, setVerification] = React.useState(true)\n  const [Error, setError] = React.useState({})\n  const [contacts, setContacts] = React.useState([])\n  const [render, setRender] = React.useState(true)\n  const [lastSearch, setLastSearch] = React.useState('')\n  const [User, setUser] = React.useState({})\n  const [reRender, setReRender] = React.useState(false)\n  \n\n  if (JWT.validate(JWT.get()) && !isLogedIn){\n    getUserInfo()\n      .then(res => {\n        setUser(res)\n        setVerification(res.isVerified)\n      }).then(setIsLogedIn(true)).catch()\n  }\n  var password =''\n  var username =''\n  var email = ''\n  var search = ''\n  var emailCode = ''\n\n\n\n  function handleDrawerOpen() {\n    setOpen(true);\n  }\n\n  function handleDrawerClose() {\n    setOpen(false);\n  }\n\n\n\n  function handleSubmit() {\n    setError({})\n    if (isLogedIn) { // Logout\n        setUser({})\n      setIsLogedIn(false)\n      JWT.forget()\n    } else if (hasAccount){ // Login\n\n      Login(username,password)\n      .then(res => {\n        if (!Object.keys(res.Error).length) {\n          console.log('logging in')\n          getUserInfo()\n          .then(res => {\n            setUser(res)\n            setVerification(res.isVerified)\n          }).then(setIsLogedIn(true))\n          setReRender(!reRender)\n          window.location.reload(false)\n        } else {\n          setError(res.Error)\n        }\n      })\n      .catch(err => {\n        setError({password: 'Incorrect Password'})\n      })\n    } else { // Register\n      Register(username, email, password)\n      .then(res => {\n        if (!Object.keys(res.Error).length) {\n          console.log('Registered')\n          setHasAccount(true)\n        } else {\n          setError(res.Error)\n        }\n      })\n      .catch()\n    }\n}\n\n  function toggleHasAccount() {\n      setError({})\n      setHasAccount(!hasAccount)\n  }\n\n  function Username(props) {\n    if (!isLogedIn){\n      return <TextField\n          id=\"outlined-Username-input\"\n          label=\"username\"\n          className={classes.textField}\n          type=\"username\"\n          name=\"username\"\n          autoComplete=\"username\"\n          margin=\"normal\"\n          variant=\"outlined\"\n          onChange={e => {username = e.target.value}}\n          />;\n    } \n    return null;  \n  }\n\n  function Password(props) {\n      if (!isLogedIn){\n        return <TextField\n        id=\"outlined-password-input\"\n        label=\"Password\"\n        className={classes.textField}\n        type=\"password\"\n        autoComplete=\"current-password\"\n        margin=\"normal\"\n        variant=\"outlined\"\n        onChange={e => {password = e.target.value}}\n        //value={password}\n      />\n      } \n      return null;  \n  }\n\n  function Email(props) {\n    if (!isLogedIn && !hasAccount){\n      return <TextField\n          id=\"outlined-email-input\"\n          label=\"email\"\n          className={classes.textField}\n          type=\"email\"\n          name=\"email\"\n          autoComplete=\"email\"\n          margin=\"normal\"\n          variant=\"outlined\"\n          onChange={e => {email = e.target.value}}\n          />;\n    } \n    return null;  \n}\n\n  function ErrorLink (props) {\n    if (props.name === 'username' && Error.username) \n      return <Link component=\"button\" color=\"error\"\n              variant=\"body2\"\n              onClick={((isLogedIn) ? null:toggleHasAccount)}\n            >\n            {Error.username} \n            </Link>\n    if (props.name === 'email' && Error.email) \n      return <Link component=\"button\" color=\"error\"\n              variant=\"body2\"\n              onClick={((isLogedIn) ? null:toggleHasAccount)}\n            >\n            {Error.email||1} \n            </Link> \n    if (props.name === 'password' && Error.password)\n      return <Link component=\"button\" color=\"error\"\n              variant=\"body2\"\n              onClick={((isLogedIn) ? null:toggleHasAccount)}\n            >\n            {Error.password} \n            </Link>\n    return null\n  }\n\n    function SearchBar (props) {\n      if(isLogedIn && hasAccount)\n      {\n        return (\n          <div className={classes.search}>\n            <InputBase\n              placeholder=\"Search\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput\n              }}\n              inputProps={{ 'aria-label' : 'search' }}\n              onChange={e => {search = e.target.value}}\n            />\n          </div> \n        )\n      }\n      return null\n    }\n  \n    function SearchButton () {\n      if(isLogedIn && hasAccount) {\n        return (\n          <IconButton size=\"small\" \n            className={classes.searchButton}\n            aria-label=\"search\"\n            onClick={handleSearch}>\n                    <SearchIcon />\n                  </IconButton>\n        )\n      } else return null\n    }\n\n  function handleSearch() {\n    setLastSearch(search)\n    searchContacts(search)\n    .then(res => {\n      setContacts(res)\n    })\n    \n  }\n\n  function ContactPanel (props) {\n    if (render) console.log(render)\n    if(isLogedIn && hasAccount)\n    {\n      var con = contacts || []\n      return (\n        con.map((item,index) =>\n          <div className={classes.expansionWidith} key={item._id}>\n            <ExpansionPanel>\n              <ExpansionPanelSummary\n                expandIcon={<ExpandMoreIcon />}\n                aria-controls=\"panel1a-content\"\n                id=\"panel1a-header\"\n              >\n                <Typography className={classes.expansionHeading}>\n                  {item.firstName} {item.lastName} \n                </Typography>\n                <div className={classes.grow} />\n              </ExpansionPanelSummary>\n              <Divider />\n\n              <ExpansionPanelDetails>\n                <Typography className={classes.grow}>\n                  Email: {item.email} <br></br>\n                  Phone: {item.phone}\n                </Typography>\n                <EditContact contact={item}/>\n                <IconButton size=\"small\" className={classes.contactDeleteButton} aria-label=\"delete\">\n                  <DeleteIcon onClick={e => handleDeleteContact(item._id, index)}/>\n                </IconButton>\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          </div>\n        )\n      )\n    }\n    return null\n  }\n\n  function handleDeleteContact (_id,index){\n    deleteContactById(_id)\n    .then(res => {\n      searchContacts(lastSearch)\n      .then(res => {\n        setContacts(res)\n      }).catch()\n    setRender(!render)\n  }).catch()  \n  }\n\n  function AddContactPopup() {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    var firstName = ''\n    var lastName = ''\n    var email = ''\n    var phone = ''\n  \n    const handleClick = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      setAnchorEl(event.currentTarget);\n      console.log(anchorEl)\n    };\n  \n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const handleAddContact = () => {\n      var Error\n      var contact = {firstName: firstName,\n                  lastName: lastName,\n                  email: email,\n                  phone: phone}\n        if (!firstName || !lastName){\n          Error = 'Please enter name'\n        } else if (!phone) {\n          Error = 'Please enter a phone number'\n        } else {\n          addContact(contact)\n          .then(handleClose).catch()\n        }\n        console.log(Error)\n    }\n  \n    const open = Boolean(anchorEl);\n    const id = open ? 'simple-popover' : undefined;\n    if (isLogedIn) {\n    return (\n      <div>\n        <Fab color=\"primary\"  aria-label=\"add\" className={classes.fab} onClick={handleClick}>\n          <AddIcon />\n        </Fab>\n        {/* <Button aria-describedby={id} variant=\"contained\" onClick={handleClick}>\n          Open Popover\n        </Button> */}\n        <Popover\n          id={id}\n          open={open}\n          anchorEl={anchorEl}\n          onClose={handleClose}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'left',\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'right',\n          }}\n        >\n          <div className={classes.div1}>\n            <Typography variant=\"h6\" className={classes.typography}>Add New Contact</Typography>\n            <TextField \n              label=\"First name\"\n              type=\"text\"\n              margin=\"normal\"\n              onChange={e => {firstName = e.target.value}}\n              />\n            <TextField\n            label=\"Last name\"\n            type=\"text\"\n            margin=\"normal\"\n            onChange={e => {lastName = e.target.value}}\n            />\n            <TextField\n            label=\"Phone number\"\n            type=\"text\"\n            margin=\"normal\"\n            onChange={e => {phone = e.target.value}}\n            />\n            <TextField\n            label=\"Email\"\n            type=\"text\"\n            margin=\"normal\"\n            onChange={e => {email = e.target.value}}\n            />\n            <Button \n          variant=\"contained\" \n          color=\"primary\" \n          onClick={handleAddContact}\n          >\n            ADD\n          </Button>\n          </div>\n          \n        </Popover>\n      </div>\n    )\n    } else {\n      return null\n    }\n  }\n\n  var EditContact = (props) => {\n    var contact = props.contact\n    \n    const [values, setValues] = React.useState({\n        firstName: contact.firstName,\n        lastName: contact.lastName,\n        email: contact.email,\n        phone: contact.phone,\n      });\n    \n      const handleChange = (name) => (event: React.ChangeEvent<HTMLInputElement>) => {\n        setValues({ ...values, [name]: event.target.value });\n      };\n\n    \n    const classes = useStyles();\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n  \n    const handleClick = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      setAnchorEl(event.currentTarget);\n      console.log(anchorEl)\n    };\n  \n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const handleEditContact = () => {\n      // var Error\n      var contact = {firstName: values.firstName,\n                  lastName: values.lastName,\n                  email: values.email,\n                  phone: values.phone}\n          console.log(contact)\n          updateContactById(props.contact._id, contact )\n          .then(res => {\n            handleClose()\n            searchContacts(lastSearch)\n              .then(res => {\n                setContacts(res)\n              }).catch()\n            setRender(!render)\n          }).catch()\n    }\n  \n    const open = Boolean(anchorEl);\n    const id = open ? 'simple-popover' : undefined;\n\n    return (\n      <div>\n        <IconButton size=\"small\" className={classes.contactDeleteButton} aria-label=\"edit\">\n                  <EditIcon onClick={handleClick}/>\n         </IconButton>\n        <Popover\n          id={id}\n          open={open}\n          anchorEl={anchorEl}\n          onClose={handleClose}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'left',\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'right',\n          }}\n        >\n          <div className={classes.div1}>\n            <Typography variant=\"h6\" className={classes.typography}>Edit Contact</Typography>\n            <TextField \n              label=\"First name\"\n              type=\"text\"\n              margin=\"normal\"\n              value={values.firstName}\n              onChange={handleChange('firstName')}\n              />\n            <TextField\n            label=\"Last name\"\n            type=\"text\"\n            margin=\"normal\"\n            value={values.lastName}\n            onChange={handleChange('lastName')}\n            />\n            <TextField\n            label=\"Phone number\"\n            type=\"text\"\n            margin=\"normal\"\n            value={values.phone}\n              onChange={handleChange('phone')}\n            />\n            <TextField\n            label=\"Email\"\n            type=\"text\"\n            margin=\"normal\"\n            value={values.email}\n            onChange={handleChange('email')}\n            />\n            <Button \n            variant=\"contained\" \n            color=\"primary\" \n            onClick={handleEditContact}\n            >\n            Commit\n          </Button>\n          </div>  \n        </Popover>\n      </div>\n    )\n  }\n\n  var EditUser = (props) => {\n    if (reRender|| !render) console.log(render)\n    \n    const [values, setValues] = React.useState({\n        username: User.username,\n        email: User.email,\n      });\n    \n      const handleChange = (name) => (event: React.ChangeEvent<HTMLInputElement>) => {\n        setValues({ ...values, [name]: event.target.value });\n      };\n\n    \n    const classes = useStyles();\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n  \n    const handleClick = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      setAnchorEl(event.currentTarget);\n      console.log(anchorEl)\n    };\n  \n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const handleEditUser = () => {\n      // var Error\n      var user = {username: values.username,\n                  email: values.email}\n          console.log(user)\n          updateUserInfo(user)\n          .then(res => {\n            getUserInfo()\n              .then(res => {\n                setUser(res)\n                setIsLogedIn(true)\n              }).catch()\n            //if (!Object.keys(res.Error).length) {\n              handleClose()\n            //} else Error = res.Error\n          }).catch()\n        }\n  \n    const open = Boolean(anchorEl);\n    const id = open ? 'simple-popover' : undefined;\n    if (isLogedIn) {\n      return (\n        <div>\n          <Fab color=\"secondary\" size=\"small\" aria-label=\"edit\" className={classes.fab} onClick={(handleClick)}>\n            <EditIcon />\n          </Fab>\n          <Popover\n            id={id}\n            open={open}\n            anchorEl={anchorEl}\n            onClose={handleClose}\n            anchorOrigin={{\n              vertical: 'bottom',\n              horizontal: 'left',\n            }}\n            transformOrigin={{\n              vertical: 'top',\n              horizontal: 'right',\n            }}\n          >\n            <div className={classes.div1}>\n              <Typography variant=\"h6\" className={classes.typography}>Edit User Info</Typography>\n              <TextField \n                label=\"Username\"\n                type=\"text\"\n                margin=\"normal\"\n                value={values.username}\n                onChange={handleChange('username')}\n                />\n              <TextField\n              label=\"Email\"\n              type=\"text\"\n              margin=\"normal\"\n              value={values.email}\n              onChange={handleChange('email')}\n              />\n              <Button \n              variant=\"contained\" \n              color=\"primary\" \n              onClick={handleEditUser}\n              >\n              Commit\n            </Button>\n            </div>  \n          </Popover>\n        </div>\n      )} else return null\n  }\n\n  // TODO Get proper object for mapping\n  function Options (props) {\n    if (isLogedIn && hasAccount)\n    {\n      var usr = {label: \"Username\",name: 'username', val: User.username} \n      var email = {label: \"Email\",name: 'email', val: User.email}\n      var lists = [usr, email]\n      return (\n        lists.map((item) =>\n        <TextField\n          id=\"standard-read-only-input\"\n          label={item.label}\n          defaultValue={item.val}\n          className={classes.textField}\n          margin=\"normal\"\n          InputProps={{\n            readOnly: true,\n          }}\n        />\n        )\n      )\n    }\n    return null\n  }\n\n  function VerifiedEmail (props) {\n    if (isLogedIn && hasAccount)\n    {\n      var isVerifiedStr = User.isVerified\n      if (isVerified)\n        isVerifiedStr = \"True\"\n      return (\n        <TextField\n          id=\"standard-read-only-input\"\n          label=\"Verified Email\"\n          defaultValue={isVerifiedStr}\n          className={classes.textField}\n          margin=\"normal\"\n          InputProps={{\n            readOnly: true,\n          }}\n        />\n      )\n    }\n    return null\n  }\n\n  function VerifyEmailLink (props) {\n    if(isLogedIn && hasAccount && !isVerified)\n    {\n      return (\n        <Link\n            component=\"button\"\n            variant=\"body2\"\n            onClick={(sendVerificationEmail())}\n          >\n            Click here to verify your email\n          </Link>\n      )\n    }\n    return null\n  }\n\n  // TODO accept verification code to update user's verification\n  function VerifyEmailBanner (props) {\n    if(!isVerified && isLogedIn && hasAccount)\n    {\n      return (\n        <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        open={open}\n        ContentProps={{\n          'aria-describedby': 'message-id',\n        }}\n        className={classes.emailBackgound}\n        message={<span id=\"message-id\">Enter your email verification code</span>}\n        // action={[\n        //   <div>\n        //   <TextField\n        //     id=\"outlined-name\"\n        //     label=\"Email Verify Code\"\n        //     className={classes.emailTextField}\n        //     margin=\"normal\"\n        //     variant=\"outlined\"\n        //     onChange={e => {emailCode = e.target.value; console.log(emailCode)}}\n        //     InputProps={{\n        //       className: classes.emailCodeInput\n        //     }}\n        //   />\n        //   <Button vartiant=\"contained\" className={classes.button} onClick={handleVerifyClick}>\n        //     Verify\n        //   </Button>\n        //   </div>\n        // ]}\n      ><div>\n        <span vartiant=\"h6\" className={classes.title} id=\"message-id\">Enter your email verification code</span>\n      <TextField\n        id=\"outlined-name\"\n        label=\"Email Verify Code\"\n        className={classes.emailTextField}\n        margin=\"normal\"\n        variant=\"outlined\"\n        onChange={e => {emailCode = e.target.value; console.log(emailCode)}}\n        InputProps={{\n          className: classes.emailCodeInput\n        }}\n      />\n      <Button vartiant=\"contained\" className={classes.button} onClick={handleVerifyClick}>\n        Verify\n      </Button>\n      </div></Snackbar>\n      )\n    }\n    return null\n  }\n\n  function handleVerifyClick () {\n    verifyUser(emailCode)\n    .then(res => \n      setVerification(res)).catch()\n  }\n  const iOS = process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open\n        })}\n      >\n        <Toolbar>\n          <Typography variant=\"h6\" noWrap className={classes.title}>\n            COP 4331 Contact Manager\n          </Typography>\n          < SearchBar />\n          <SearchButton />\n          <div className={classes.grow} />\n          <AddContactPopup />\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"end\"\n            onClick={handleDrawerOpen}\n            className={clsx(open && classes.hide)}\n          >\n            <MenuIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <main\n        className={clsx(classes.content, {\n          [classes.contentShift]: open\n        })}\n      >\n        <div className={classes.drawerHeader} />\n        <ContactPanel />\n        <VerifyEmailBanner />\n      </main>\n      <SwipeableDrawer \n        disableBackdropTransition={!iOS}\n        disableDiscovery={iOS}\n        className={classes.drawer}\n        variant='persistent'\n        anchor=\"right\"\n        open={open}\n        onOpen={handleDrawerOpen}\n        onClose={handleDrawerClose}\n        classes={{\n          paper: classes.drawerPaper\n        }}\n      >\n        <div className={classes.drawerHeader}>\n        <Typography variant=\"h6\" noWrap className={classes.title}>\n        {(isLogedIn) ? 'Welcome':(hasAccount) ? 'Please Login' : 'Please Create an Account'}\n        </Typography>\n        <div className={classes.grow} />\n        {/* <EditOptions /> */}\n        <EditUser />\n        </div>\n        <Divider />\n        <Username />\n        <ErrorLink name='username'/>\n        <Email />\n        <ErrorLink name='email'/>\n        <Password />\n        <ErrorLink name='password'/>\n        < Options />\n        <VerifiedEmail />\n        <VerifyEmailLink />\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          className={classes.button}\n          onClick={(handleSubmit)}\n          >\n          {(isLogedIn) ? 'Logout': (hasAccount) ? 'Login' : 'Register'}\n        </Button>\n        <Divider />\n        <Link\n          component=\"button\"\n          variant=\"body2\"\n          onClick={((isLogedIn) ? null:toggleHasAccount)}\n        >\n        {(isLogedIn) ? '':(hasAccount) ? 'Dont have an account? Register' : 'Already have an account? Login'} \n        </Link>\n        \n      </SwipeableDrawer>\n    </div>\n  );\n\n      }","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Pieces from './components/Pieces'\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <div className=\"App\">\n          <Route exact path=\"/\" component={Pieces} />\n        </div>\n      </Router>\n    );\n  }\n}\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import './index.css';\n//import Clock from './components/clock'\n//import Login from './components/Login'\nimport App from './App'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  );","import {isEmail} from 'validator'\nimport axios from 'axios'\nimport JWT from 'jwt-client'\n\nvar token = JWT.get()\naxios.defaults.headers.common['Authorization'] = `Bearer ${token}`\n\nvar Login = async(username,password) => {\n    var Res = {Error: {}}\n    if (!username) {\n        Res.Error.username = 'Please enter your username'\n    } else {\n        await axios.get(`user/username/${username}`)\n        .then(async res => {\n            if (!res.data.exists) {\n                Res.Error.username = 'Username does not exist'\n            } else if (!password) {\n                Res.Error.password = 'Please enter your password'\n            } else {\n                // login\n                var user = {username: username, password: password}\n                await axios.post('user/login', user)\n                .then(res => {\n                    if (res.data.token) if (JWT.validate(res.data.token)) {\n                        JWT.keep(res.data.token);\n                      } else {\n                        JWT.forget();\n                      };\n                })\n                .catch(err => {\n                    Res.Error.password = 'Incorect Password'\n                    return Res\n                })\n            }\n            return Res\n            })\n        .catch(err => {\n            console.log(';(')\n            console.error(err)\n        })\n    } \n    searchContacts()\n    return Res\n}\n\nvar usernameFree = async (username) => {\n    var Res \n    await axios.get(`user/username/${username}`)\n        .then(res => {\n            if (res.data.exists) {\n                Res = res.data.exists\n            } else Res = false\n        })\n        .catch(err => console.log)\n    return Res\n}\n\nvar Register = async(username, email, password) => {\n    var Res = {Error: {}}\n    if (!username) {\n        Res.Error.username = 'Please enter your username'\n    } else {\n        await axios.get(`user/username/${username}`)\n        .then(async res => {\n            if (res.data.exists) {\n                Res.Error.username = 'Username is taken'\n            } else if (!email || !isEmail(email)) {\n                Res.Error.email = 'Please enter a valid email'\n            } else if (!password) {\n                Res.Error.password = 'Please enter a password'\n            } else {\n                // register\n                var user = {username: username, email: email, password: password}\n                await axios.post('user/register', user)\n                .then(res => {\n                    console.log('succcess')\n                })\n                .catch(err => {\n                    Res.Error.password = 'Incorect Password'\n                    return Res\n                })\n            }\n            return Res\n            })\n        .catch(err => {\n            console.log(';(')\n            console.error(err)\n        })\n    } \n    return Res\n}\n\n\n\nvar getUserInfo = async() => {\n    var Res\n    await axios.get('/user')\n        .then( res => {\n            console.log(res.data)\n            Res = res.data\n        })\n        .catch()\n    return Res\n}\n\nvar updateUserInfo = async (user) => {\n    var Res ={Error: {}}\n    if (user.username)\n        await usernameFree(user.username)\n            .then(async res => {\n                if (res) {\n                    Res.Error = 'Username already taken'\n                    user.username = undefined\n                    await axios.put('/user', user)\n                        .then( res => {\n                            console.log(res.data)\n                            Res.data = res.data\n                        })\n                        .catch()\n                } else {\n                    await axios.put('/user', user)\n                        .then( res => {\n                            console.log(res.data)\n                            Res.data = res.data\n                        })\n                        .catch()\n                }\n            }).catch()    \n    return Res\n}\n\nvar deleteUser = async () => {\n    var Res\n    await axios.delete('/user')\n        .then(res => {\n            console.log(res.data)\n            Res = res.data\n        })\n        .catch()\n    return Res\n}\n// returns true if user is verified\nvar isVerified = async (user) => {\n    var Res\n    await axios.get('/user/isverified', user)\n        .then( res => {\n            console.log(res.data.isVerified)\n            if (res.data.isVerified)\n                return res.data.isVerified\n            Res = false\n        })\n        .catch()\n    return Res\n}\n\nvar sendVerificationEmail = async () => {\n    //var Res\n    await axios.get('/user/verify')\n        .then( res => {\n            console.log(res.data)\n            //Res = res.data\n        })\n        .catch()\n}\n\n// returns true if correct code\nvar verifyUser = async (code) => {\n    var Res\n    await axios.put('/user/verify',{code: code})\n        .then( res => {\n            console.log(!!res.data.n)\n            Res = !!res.data.n\n        })\n        .catch()\n    return Res\n}\n\n\n\nvar addContact = async (contact) => {\n    var Res\n    await axios.post('/contacts', contact)\n        .then(res => {\n            console.log(res.data)\n            Res = res.data\n        })\n        .catch()\n    return Res\n}\n\nvar getAllContacts = async () => {\n    var Res\n    await axios.get('/contacts')\n        .then(res => {\n            console.log(res.data)\n            Res = res.data\n        })\n        .catch()\n    return Res\n}\n\nvar searchContacts = async (search) => {\n    var Res\n    await axios.post('/contacts/search', {search: search})\n        .then(res => {\n            console.log(res.data)\n            Res = res.data\n        })\n        .catch(err => console.log)\n        return Res\n}\n\nvar getContactById = async (id) => {\n    var Res\n    await axios.get(`/contacts/id/${id}`,)\n        .then(res => {\n            console.log(res.data)\n            Res = res.data\n        })\n        .catch(err => console.log)\n    return Res\n}\n\nvar updateContactById = async (id, body) => {\n    var Res\n    await axios.put(`/contacts/id/${id}`, body)\n        .then(res => {\n            console.log(res.data)\n            Res = res.data\n        })\n        .catch(err => console.log)\n    return Res\n}\n\nvar deleteContactById = async (id) => {\n    var Res\n    await axios.delete(`/contacts/id/${id}`)\n        .then(res => {\n            console.log(res.data)\n            Res = res.data\n        })\n        .catch(err => console.log)\n    return Res\n}\n\nexport { Login, Register, getUserInfo, updateUserInfo, deleteUser,\n    isVerified, sendVerificationEmail, verifyUser, addContact,\n    getAllContacts, searchContacts, getContactById, updateContactById,\n    deleteContactById }","import {\n    fade,\n    makeStyles,\n    Theme,\n    createStyles\n  } from \"@material-ui/core/styles\";\n   import { green } from '@material-ui/core/colors';\n\n  \nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\"\n    },\n    appBar: {\n      transition: theme.transitions.create([\"margin\", \"width\"], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      })\n    },\n    appBarShift: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      transition: theme.transitions.create([\"margin\", \"width\"], {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen\n      }),\n      marginRight: drawerWidth\n    },\n    title: {\n      flexGrow: 0\n    },\n    hide: {\n      display: \"none\"\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0\n    },\n    drawerPaper: {\n      width: drawerWidth\n    },\n    drawerHeader: {\n      display: \"flex\",\n      alignItems: \"center\",\n      padding: theme.spacing(0, 1),\n      ...theme.mixins.toolbar,\n      justifyContent: \"flex-start\"\n    },\n    textField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1)\n    },\n    button: {\n      margin: theme.spacing(1)\n    },\n    content: {\n      flexGrow: 1,\n      padding: theme.spacing(3),\n      transition: theme.transitions.create(\"margin\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      marginRight: -drawerWidth\n    },\n    contentShift: {\n      transition: theme.transitions.create(\"margin\", {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen\n      }),\n      marginRight: 0\n    },\n    search: {\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.common.white, 0.15),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.common.white, 0.25),\n      },\n      marginRight: theme.spacing(2),\n      marginLeft: 0,\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        marginLeft: theme.spacing(3),\n        width: 'auto',\n      }\n    },\n    grow: {\n      flexGrow: 1,\n    },\n    searchIcon: {\n      width: theme.spacing(7),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 1),\n      transition: theme.transitions.create(\"width\"),\n      width: \"100%\",\n      [theme.breakpoints.up(\"md\")]: {\n        width: 200\n      }\n    },\n    expansionWidith: {\n      width: \"100%\"\n    },\n    expansionHeading: {\n      fontSize: theme.typography.pxToRem(15),\n      fontWeight: theme.typography.fontWeightRegular\n    },\n    fab: {\n      margin: theme.spacing(1),\n    },\n    extendedIcon: {\n      marginRight: theme.spacing(1),\n    },\n    contactDeleteButton: {\n      margin: theme.spacing(0),\n    },\n    emailTextField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n    },\n    emailCodeInput: {\n      color: \"white\"\n    },\n    emailBackgound: {\n      backgroundColor: green[600]\n    },\n    div1: {\n      padding: theme.spacing(1, 1, 1, 7),\n      width:300\n    },\n      \n  })\n);\n\nexport default useStyles"],"sourceRoot":""}